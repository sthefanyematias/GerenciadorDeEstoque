<div class="content-form-container">
    <h2>{{ titulo || 'Cadastrar Novo Produto' }}</h2>
    <form (ngSubmit)="submeter()">
        
        <div class="form-row">
            <div class="form-group">
                <label for="input-id">Id</label>
                <input class="input-simples" id="input-id" name="input-id" type="text" 
                    [ngModel]="produto.id" disabled 
                    placeholder="Gerado pelo sistema" />
            </div>
            <div class="form-group">
                <label for="input-nome">Nome</label>
                <input class="input-simples" id="input-nome" name="input-nome" placeholder="Ex: Arroz Branco Tio João 5kg"
                    type="text" [(ngModel)]="produto.nome" required />
            </div>
        </div>

        <div class="form-group">
            <label for="input-fabricante">Fabricante</label>
            <input class="input-simples" id="input-fabricante" name="input-fabricante" placeholder="Ex: Camil Alimentos"
                type="text" [(ngModel)]="produto.fabricante" required />
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="input-fabricacao">Data de Fabricação</label>
                <input class="input-simples" id="input-fabricacao" name="input-fabricacao" type="date"
                    [(ngModel)]="produto.data_fabricacao" required />
            </div>
            <div class="form-group">
                <label for="input-validade">Data de Validade</label>
                <input class="input-simples" id="input-validade" name="input-validade" type="date"
                    [(ngModel)]="produto.data_validade" required />
            </div>
        </div>

        <div class="form-group">
            <label for="input-preco">Preço (R$)</label>
            <input class="input-simples" id="input-preco" name="input-preco" placeholder="0.00" type="number" step="0.01"
                [(ngModel)]="produto.preco" required />
        </div>

        <div class="form-group">
            <label for="input-quantidade">Quantidade</label>
            <input class="input-simples" id="input-quantidade" name="input-quantidade" placeholder="Ex: 50" type="number"
                [(ngModel)]="produto.quantidade" required />
        </div>

        <button type="submit" class="input-submeter">
            <i class="fas fa-save"></i> Cadastrar Produto
        </button>
    </form>

    <div *ngIf="erroMensagem" class="erro-mensagem mensagem-feedback">
        <i class="fas fa-times-circle"></i> {{ erroMensagem }}
    </div>

    <div *ngIf="mensagemSucesso" class="sucesso-mensagem mensagem-feedback">
        <i class="fas fa-check-circle"></i> {{ mensagemSucesso }}
    </div>

    <div *ngIf="produtoCadastrado" class="produto-dados sucesso-cadastro">
        <h3>Produto cadastrado com sucesso!</h3>
        <p><strong>Id:</strong> {{ produtoCadastrado.id }}</p>
        <p><strong>Nome:</strong> {{ produtoCadastrado.nome }}</p>
        <p><strong>Fabricante:</strong> {{ produtoCadastrado.fabricante }}</p>
        <p><strong>Data de Fabricação:</strong> {{ produtoCadastrado.data_fabricacao | date:'dd/MM/yyyy' }}</p>
        <p><strong>Validade:</strong> {{ produtoCadastrado.data_validade | date:'dd/MM/yyyy' }}</p>
        <p><strong>Preço:</strong> {{ produtoCadastrado.preco | currency:'BRL':'symbol':'1.2-2' }}</p>
    </div>
</div>