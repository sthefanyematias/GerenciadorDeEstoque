<div class="consulta-container">
    <h2>Consulta Rápida de Funcionário</h2>
    <form (ngSubmit)="buscarFuncionario()">
        <div class="form-group-inline">
            <label for="input-id">Informe o ID do funcionário:</label>
            <input type="number" id="input-id" name="idBusca" [(ngModel)]="idBusca" class="input-id"
                placeholder="Ex: 101587394" required />
            <button type="submit" class="btn-buscar">
                <i class="fas fa-search"></i> Buscar Funcionário
            </button>
        </div>
    </form>

    <div *ngIf="funcionarioEncontrado" class="funcionario-dados">
        <h3>Informações do Perfil</h3>
        <div class="dados-grid">
            <p><strong>ID:</strong> {{ funcionarioEncontrado.id }}</p>
            <p><strong>Nome:</strong> {{ funcionarioEncontrado.nome }} <span
                    *ngIf="funcionarioEncontrado.nomePreferido"> ({{ funcionarioEncontrado.nomePreferido }}) </span></p>
            <p><strong>Cargo:</strong> {{ funcionarioEncontrado.cargo }}</p>
            <p><strong>Setor:</strong> {{ funcionarioEncontrado.setor }}</p>
            <p><strong>Salário:</strong> {{ funcionarioEncontrado.salario | currency:'BRL':'symbol':'1.2-2' }}</p>
            <p><strong>Admissão:</strong> {{ funcionarioEncontrado.data_admissao | date:'dd/MM/yyyy' }}</p>
            <!-- <p><strong>Idade:</strong> {{ funcionarioEncontrado.idade || 'N/A' }}</p> -->
            <p><strong>Perfil (Role):</strong> {{ funcionarioEncontrado.role | titlecase }}</p>
            <p><strong>Status:</strong> {{ checkStatus(funcionarioEncontrado) }}</p>
        </div>

        <div class="consulta-acoes" *ngIf="authService.isAdmin()">
            <!-- <p>Ações de Gerenciamento:</p> -->
            <div class="acao-buttons">
                <a class="btn-acao btn-editar" [routerLink]="['/funcionarios/editar', funcionarioEncontrado.id]">
                    <i class="fas fa-edit"></i> Editar Dados
                </a>
            </div>
        </div>
    </div>

    <div *ngIf="erroBusca" class="erro-busca">
        <i class="fas fa-times-circle"></i> {{ erroBusca }}
    </div>
</div>